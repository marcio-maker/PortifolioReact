<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    
    <!-- Meta Tags Essenciais -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#4361ee" />
    <meta name="description" content="Portfólio de Marcio Maker - Desenvolvedor e Criador Digital" />
    
    <!-- Pré-carregamentos Críticos -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    
    <!-- Pré-carregamento do GSAP -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js" as="script">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js" as="script">
    
    <!-- Pré-carregamento de Estilos -->
    <link rel="preload" href="/src/styles/Projects.css" as="style">
    
    <title>Marcio Maker | Portfólio Criativo</title>
    
    <!-- Meta Tags para SEO e Compartilhamento -->
    <meta property="og:title" content="Marcio Maker | Portfólio Criativo" />
    <meta property="og:description" content="Explore meus projetos criativos e soluções inovadoras" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://marciomaker.com" />
    <meta property="og:image" content="https://marciomaker.com/preview.jpg" />
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    
    <!-- Safari Pinned Tab Icon -->
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4361ee" />
  </head>
  
  <body>
    <div id="root"></div>
    
    <!-- Carregamento Otimizado do GSAP -->
    <script>
      function loadScript(src) {
        return new Promise((resolve, reject) => {
          const script = document.createElement('script');
          script.src = src;
          script.async = true;
          script.onload = resolve;
          script.onerror = reject;
          document.head.appendChild(script);
        });
      }
      
      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              Promise.all([
                loadScript('https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js'),
                loadScript('https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js')
              ]).then(() => {
                // GSAP carregado, agora carrega o app
                const appScript = document.createElement('script');
                appScript.src = '/src/main.jsx';
                appScript.type = 'module';
                document.body.appendChild(appScript);
              });
              observer.disconnect();
            }
          });
        }, { threshold: 0.1 });
        
        observer.observe(document.getElementById('root'));
      } else {
        // Fallback para navegadores sem IntersectionObserver
        const script = document.createElement('script');
        script.src = '/src/main.jsx';
        script.type = 'module';
        document.body.appendChild(script);
      }
    </script>
    
    <!-- Fallback para JS desativado -->
    <noscript>
      <style>
        body { 
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
          text-align: center;
          padding: 2rem;
          font-family: sans-serif;
        }
        #root { display: none; }
      </style>
      <h1>Por favor, ative o JavaScript para visualizar este portfólio.</h1>
    </noscript>
  </body>
</html>